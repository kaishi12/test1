@using Testing.ViewModels
@using PagedList.Mvc;
@model IEnumerable<ChuongTruyenDaTao>
@{
    /**/

    ViewBag.Title = "@ViewBag.TenTruyen";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}

<div class="padding">
    <div class="m-b">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/User/Index">Home</a></li>
            <li class="breadcrumb-item"><a href="/Truyen/QuanLyTruyenDaTao">Danh sách truyện đã tạo</a></li>
            <li class="breadcrumb-item active">Danh sách chương</li>
        </ol>
    </div>
    <div class="box">
        <div class="box-header">
            <h2>DataTables</h2>
        </div>
        @using (Html.BeginForm("QuanLyChuong", "Truyen", FormMethod.Post))
        {
            <div class="col-md-2">
                <button type="button" class="btn btn-fw danger"><a href="/ChuongTruyen/TaoMoi/@ViewBag.MaProject"><i class="fa fa-trash-o"></i>Thêm</a></button>
            </div>

            <div class="col-md-2" id="buttonxoa">
                <button id="buttonxoa" type="submit" value="Delete" class="btn btn-fw danger" onclick="return confirm('Bạn có chắc muốn xoá?')" style="display:none;"><i class="fa fa-trash-o"></i>Xoá</button>
            </div>


            <div class="table-responsive">
                <table ui-jp="dataTable" class="table table-striped b-t b-b">
                    <thead>
                        <tr>
                            <th width="5%"></th>
                            <th style="width:30%">Tên Chương</th>
                            <th style="width:15%">Thời gian</th>
                            <th style="width:10%">Lượt xem</th>
                            <th style="width:20%">Loại Trang</th>
                            <th style="width:10%"></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td><input type="checkbox" id="chekbox" name="ID" value="@item.MaChuong" class="custom-checkbox chkCheckBoxId" /></td>
                                <td class="center">
                                    <a href="/ChuongTruyen/Index/@item.MaChuong?name=@item.TenChuong&loaitrang=clear-text">
                                        <span>
                                            @Html.DisplayFor(modelItem => item.TenChuong)
                                        </span>
                                    </a>
                                </td>
                                <td class="center">
                                    @Html.DisplayFor(modelItem => item.Thoigian)
                                </td>
                                <td class="center">
                                    @Html.DisplayFor(modelItem => item.LuotXem)
                                </td>
                                <td class="center">
                                    @foreach (var item1 in ViewBag.LoaiTrang)
                                    {
                                        <a href="/ChuongTruyen/Index/@item.MaChuong?name=@item.TenChuong&loaitrang=@item1.TenLoaiTrang"><span>@item1.TenLoaiTrang</span></a><br />
                                    }
                                </td>
                                <td>
                                    <a href="/ChuongTruyen/CapNhatChuong/@item.MaChuong" class="rep1"> <i class="fa fa-edit" title="Cập nhật truyện"></i></a>
                                    <a href="/ChuongTruyen/CapNhatTrang/?id=@item.MaChuong&loaitrang=2" class="rep1"> <i class="fa fa-edit" title="Cập nhật trang"></i></a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
    </div>

</div>
@section scripts
{
    <script>
        jQuery(document).ready(function ($) {

            $('#checkBoxAll').click(function () {
                if ($(this).is(":checked")) {
                    $(".chkCheckBoxId").prop("checked", true)
                }
                else {
                    $(".chkCheckBoxId").prop("checked", false)
                }
            });
        });
    </script>
    }


